<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dumbdown - Human-Readable Formatting</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.bunny.net">
    <link href="https://fonts.bunny.net/css?family=inter:400,500,600,700|jetbrains-mono:400,500" rel="stylesheet" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        amber: {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            200: '#fde68a',
                            300: '#fcd34d',
                            400: '#fbbf24',
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309',
                            800: '#92400e',
                            900: '#78350f',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Default to light mode */
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --bg-tertiary: #f3f4f6;
            --border-color: #e5e7eb;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-tertiary: #9ca3af;
            --accent-from: #f59e0b;
            --accent-to: #d97706;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #0f172a;
                --bg-secondary: #1e293b;
                --bg-tertiary: #334155;
                --border-color: #475569;
                --text-primary: #f1f5f9;
                --text-secondary: #cbd5e1;
                --text-tertiary: #94a3b8;
                --accent-from: #fbbf24;
                --accent-to: #f59e0b;
            }
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Inter', system-ui, sans-serif;
        }

        .accent-gradient {
            background: linear-gradient(135deg, var(--accent-from), var(--accent-to));
        }

        .text-gradient {
            background: linear-gradient(135deg, var(--accent-from), var(--accent-to));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
        }

        .code-block {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            font-family: 'JetBrains Mono', monospace;
        }

        .editor-pane {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .editor-pane:focus {
            outline: 2px solid var(--accent-from);
            outline-offset: -2px;
        }

        .smooth-transition {
            transition: all 0.2s ease-in-out;
        }

        .btn-toolbar {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            font-family: 'JetBrains Mono', monospace;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-size: 0.875rem;
        }

        @media (min-width: 768px) {
            .btn-toolbar {
                padding: 0.5rem 1rem;
                font-size: 1rem;
            }
        }

        .btn-toolbar:hover {
            background-color: var(--accent-from);
            color: white;
            border-color: var(--accent-from);
        }

        .btn-toolbar.active {
            background-color: var(--accent-from);
            color: white;
            border-color: var(--accent-from);
        }

        #editor {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            font-family: 'JetBrains Mono', monospace;
        }

        #editor:focus {
            outline: 2px solid var(--accent-from);
            outline-offset: -2px;
        }

        #preview h1 {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--accent-from);
        }

        #preview h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--accent-to);
        }

        #preview code {
            background-color: var(--bg-tertiary);
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
        }

        #preview pre {
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 0.375rem;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        #preview pre code {
            background: none;
            padding: 0;
        }

        #preview ul, #preview ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        #preview li {
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Hero Section -->
    <div class="container mx-auto px-4 py-16 max-w-5xl">
        <!-- Document start marker -->
        <div class="text-2xl font-mono mb-8 opacity-30 text-left">+++</div>

        <!-- Navigation -->
        <nav class="mb-8 flex gap-4 items-center" style="color: var(--text-secondary);">
            <a href="#home" class="nav-tab smooth-transition hover:text-gradient active" style="color: var(--accent-from); font-weight: 600;" data-tab="home">Home</a>
            <a href="#editor" class="nav-tab smooth-transition" style="color: var(--text-secondary);" data-tab="editor">Editor</a>
        </nav>

        <!-- Home Tab Content -->
        <div id="home-tab" class="tab-content">
            <div class="mb-16">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 text-gradient font-mono">
                    // dumbdown
                </h1>
                <p class="text-xl md:text-2xl mb-8" style="color: var(--text-secondary);">
                    WRITE ONCE, READ ANYWHERE
                </p>
                <p class="text-lg max-w-2xl leading-relaxed" style="color: var(--text-tertiary);">
                    Dumbdown is a formatting style designed to work without a renderer requirement.
                    Write it in a code block, plain text file, or anywhere - it's intereadable (interpretable-readable).
                </p>
            </div>

            <!-- Philosophy Section -->
            <section class="mb-20">
            <h2 class="text-3xl font-bold mb-8 font-mono">/// Why Dumbdown?</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card rounded-xl p-6 smooth-transition hover:scale-105">
                    <h3 class="text-xl font-semibold mb-3">Human-Readable First</h3>
                    <p style="color: var(--text-secondary);">
                        Why should text required a rendering layer? Markdown, HTML, .doc, .pdf all need middleware to make it look as intended.
                        Dumbdown? Just read/write it.
                        No parser, no preview - you get what you see.
                    </p>
                </div>
                <div class="card rounded-xl p-6 smooth-transition hover:scale-105">
                    <h3 class="text-xl font-semibold mb-3">Write Anywhere</h3>
                    <p style="color: var(--text-secondary);">
                        Code blocks, text files, comments, docs. If you can type text,
                        you can write dumbdown. Everyone can read it.
                    </p>
                </div>
                <div class="card rounded-xl p-6 smooth-transition hover:scale-105">
                    <h3 class="text-xl font-semibold mb-3">Simple Rules</h3>
                    <p style="color: var(--text-secondary);">
                        Simple syntax. Use (almost?) anywhere. No edge cases, conflicting styles or remembering when to escape characters.
                    </p>
                </div>
                <div class="card rounded-xl p-6 smooth-transition hover:scale-105">
                    <h3 class="text-xl font-semibold mb-3">Zero Dependencies</h3>
                    <p style="color: var(--text-secondary);">
                        No libraries. No build steps. No converters needed to read it.
                        Open a file and understand it instantly.
                    </p>
                </div>
            </div>
        </section>

        <!-- Format Guide -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold mb-8 font-mono">/// The Format</h2>
            <p class="mb-12 text-lg" style="color: var(--text-secondary);">
                Nothing complicated (unlike everything else)
            </p>

            <div class="space-y-6">
                <!-- Document Markers -->
                <div class="card rounded-xl p-6">
                    <h3 class="text-xl font-semibold mb-4 text-gradient">Document Markers</h3>
                    <p class="mb-4" style="color: var(--text-secondary);">
                        Start and end documents with +++
                    </p>
                    <div class="code-block rounded-lg p-4 text-sm">
                        <div class="mb-2">+++</div>
                        <div class="mb-2" style="color: var(--text-tertiary);">// Your content here</div>
                        <div>+++</div>
                    </div>
                </div>

                <!-- Headings -->
                <div class="card rounded-xl p-6">
                    <h3 class="text-xl font-semibold mb-4 text-gradient">Headings</h3>
                    <p class="mb-4" style="color: var(--text-secondary);">
                        Two levels: // for main titles, /// for subtitles.
                    </p>
                    <div class="code-block rounded-lg p-4 text-sm">
                        <div class="mb-2">// This is a main title</div>
                        <div>/// This is a subtitle</div>
                    </div>
                </div>

                <!-- Lists -->
                <div class="card rounded-xl p-6">
                    <h3 class="text-xl font-semibold mb-4 text-gradient">Lists</h3>
                    <p class="mb-4" style="color: var(--text-secondary);">
                        Dashes for bullets, numbers for ordered. Double dash for nesting.
                    </p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm mb-2 font-medium" style="color: var(--text-tertiary);">Unordered:</p>
                            <div class="code-block rounded-lg p-4 text-sm">
                                <div>- First item</div>
                                <div>- Second item</div>
                                <div>-- Nested item</div>
                                <div>-- Another nested</div>
                            </div>
                        </div>
                        <div>
                            <p class="text-sm mb-2 font-medium" style="color: var(--text-tertiary);">Ordered:</p>
                            <div class="code-block rounded-lg p-4 text-sm">
                                <div>1. First step</div>
                                <div>2. Second step</div>
                                <div class="ml-4">a. Sub-step</div>
                                <div class="ml-4">b. Another sub-step</div>
                                <div>3. Third step</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Emphasis -->
                <div class="card rounded-xl p-6">
                    <h3 class="text-xl font-semibold mb-4 text-gradient">Emphasis</h3>
                    <p class="mb-4" style="color: var(--text-secondary);">
                        Just use ALL CAPS. No asterisks, no underscores.
                        Join the fight against emphasising EVERYTHING.
                    </p>
                    <div class="code-block rounded-lg p-4 text-sm">
                        <div>This is IMPORTANT and this is ALSO IMPORTANT.</div>
                    </div>
                </div>

                <!-- Code -->
                <div class="card rounded-xl p-6">
                    <h3 class="text-xl font-semibold mb-4 text-gradient">Code</h3>
                    <p class="mb-4" style="color: var(--text-secondary);">
                        Backticks for inline, triple backticks for blocks.
                    </p>
                    <div class="code-block rounded-lg p-4 text-sm">
                        <div class="mb-3">Run the `npm install` command first.</div>
                        <div class="mb-1">```</div>
                        <div class="ml-4 mb-1">function hello() {</div>
                        <div class="ml-8 mb-1">console.log('world');</div>
                        <div class="ml-4 mb-1">}</div>
                        <div>```</div>
                    </div>
                </div>

                <!-- Labels & Callouts -->
                <div class="card rounded-xl p-6">
                    <h3 class="text-xl font-semibold mb-4 text-gradient">Labels & Callouts</h3>
                    <p class="mb-4" style="color: var(--text-secondary);">
                        Add context with [LABELS] or draw attention with !! and >>.
                    </p>
                    <div class="code-block rounded-lg p-4 text-sm space-y-2">
                        <div>[NOTE] This only works on Linux systems</div>
                        <div>[WARNING] Database backup required before running</div>
                        <div class="pt-2">!! ACTION REQUIRED before deployment</div>
                        <div>>> This insight could save hours of debugging</div>
                    </div>
                </div>

                <!-- Quotes -->
                <div class="card rounded-xl p-6">
                    <h3 class="text-xl font-semibold mb-4 text-gradient">Quotes</h3>
                    <p class="mb-4" style="color: var(--text-secondary);">
                        Natural quote marks. Works across multiple lines.
                    </p>
                    <div class="code-block rounded-lg p-4 text-sm">
                        <div>"This is a quoted section that</div>
                        <div>spans multiple lines naturally</div>
                        <div>without any special syntax."</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Converter Section -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold mb-8 font-mono">/// Convert Markdown to Dumbdown</h2>
            <p class="mb-8 text-lg" style="color: var(--text-secondary);">
                Paste your markdown below and see it transformed into clean, readable dumbdown.
            </p>

            <div class="card rounded-xl p-6 mb-6">
                <label class="block text-sm font-medium mb-2" style="color: var(--text-secondary);">
                    Markdown Input
                </label>
                <textarea
                    id="markdown-input"
                    class="editor-pane w-full rounded-lg p-4 text-sm leading-relaxed resize-none"
                    rows="10"
                    placeholder="# Your Markdown Here

Paste your markdown and watch it transform..."
                    spellcheck="false"
                ></textarea>
                <div class="mt-2 text-xs" style="color: var(--text-tertiary);">
                    <span id="input-char-count">0</span> characters
                </div>
            </div>

            <div class="flex justify-center mb-6">
                <button
                    id="convert-button"
                    class="accent-gradient text-white font-semibold px-8 py-3 rounded-lg smooth-transition hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2"
                    style="box-shadow: 0 4px 14px 0 rgba(251, 191, 36, 0.39);"
                >
                    Convert to Dumbdown
                </button>
            </div>

            <div class="card rounded-xl p-6">
                <label class="block text-sm font-medium mb-2" style="color: var(--text-secondary);">
                    Dumbdown Output
                </label>
                <pre
                    id="dumbdown-output"
                    class="editor-pane w-full rounded-lg p-4 text-sm leading-relaxed overflow-auto"
                    style="min-height: 240px;"
                ></pre>
                <div class="mt-2 flex justify-between items-center">
                    <div class="text-xs" style="color: var(--text-tertiary);">
                        <span id="output-char-count">0</span> characters
                    </div>
                    <button
                        id="copy-button"
                        class="text-sm font-medium px-4 py-2 rounded-lg smooth-transition hover:scale-105"
                        style="color: var(--accent-from); border: 1px solid var(--accent-from);"
                    >
                        Copy
                    </button>
                </div>
            </div>

            <div id="status" class="mt-4 text-center text-sm min-h-6"></div>
        </section>

            <!-- Footer -->
            <footer class="py-8 border-t" style="border-color: var(--border-color); color: var(--text-tertiary);">
                <p class="text-sm">
                    Dumbdown v2 â€” Human-readable formatting for everyone
                </p>
            </footer>
        </div>

        <!-- Editor Tab Content -->
        <div id="editor-tab" class="tab-content hidden">
            <div class="mb-16">
                <h1 class="text-4xl md:text-7xl font-bold mb-6 text-gradient font-mono">
                    // dumbstack
                </h1>
                <p class="text-xl md:text-2xl mb-8" style="color: var(--text-secondary);">
                    Write clean, readable documents with toolbar-assisted formatting.
                </p>
                <p class="text-lg max-w-2xl leading-relaxed" style="color: var(--text-tertiary);">
                    Toggle preview to see LaTeX and code rendered inline.
                </p>
            </div>

            <!-- Editor Section -->
            <section class="mb-20">
                <!-- Toolbar -->
                <div class="mb-6">
                    <div class="mb-3 text-sm font-medium" style="color: var(--text-secondary);">Format</div>
                    <div class="flex flex-wrap gap-2 md:gap-3">
                        <button class="btn-toolbar" onclick="insertFormat('//')" title="Main heading">
                            <span class="font-bold text-lg">H1</span>
                        </button>
                        <button class="btn-toolbar" onclick="insertFormat('///')" title="Subheading">
                            <span class="font-bold text-base">H2</span>
                        </button>
                        <button class="btn-toolbar" onclick="toggleAllCaps()" title="ALL CAPS emphasis">
                            <span class="font-bold text-base">B</span>
                        </button>
                        <button class="btn-toolbar" onclick="insertFormat('`')" title="Inline code">
                            <span class="font-mono text-base">&lt;/&gt;</span>
                        </button>
                        <button class="btn-toolbar" onclick="insertCodeBlock()" title="Code block">
                            <span class="font-mono text-base">&lt;&gt;</span>
                        </button>
                        <button class="btn-toolbar" onclick="insertFormat('-')" title="List item">
                            <span class="font-mono text-base">-</span>
                        </button>
                        <button class="btn-toolbar" onclick="insertNumberedList()" title="Numbered list">
                            <span class="font-mono text-base">123</span>
                        </button>
                        <button class="btn-toolbar" onclick="insertMath()" title="LaTeX math">
                            <span class="font-mono text-base">$</span>
                        </button>
                        <div class="flex-grow"></div>
                        <button id="previewToggle" class="btn-toolbar" onclick="togglePreview()" title="Toggle preview">
                            <span class="font-mono text-base">[&nbsp;]</span>
                        </button>
                    </div>
                </div>

                <!-- Editor / Preview -->
                <div id="editorContainer">
                    <textarea id="editor" class="w-full rounded-lg p-6 text-base leading-relaxed resize-vertical" style="min-height: 500px;" placeholder="Start writing in dumbdown format...

// Example Document

This is a paragraph with EMPHASIS in all caps.

/// Subsection

- List item one
-- Nested item
- List item two

Inline code: `const x = 42`

Code block:
```
function hello() {
  console.log('Hello, world!');
}
```

LaTeX math: $E = mc^2$

Display math:
$$
\int_0^\infty e^{-x^2} dx = \frac{\sqrt{\pi}}{2}
$$
"></textarea>
                </div>

                <div id="previewContainer" class="hidden">
                    <div id="preview" class="code-block rounded-lg p-6 leading-relaxed" style="min-height: 500px;"></div>
                </div>
            </section>
        </div>

        <!-- Document end marker -->
        <div class="text-2xl font-mono mt-8 opacity-30 text-right">+++</div>
    </div>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="script.js"></script>
    <script src="editor.js"></script>
    <script>
        // Tab switching logic
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
                e.preventDefault();
                const targetTab = tab.dataset.tab;

                // Hide all tabs
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });

                // Show target tab
                document.getElementById(targetTab + '-tab').classList.remove('hidden');

                // Update active state
                document.querySelectorAll('.nav-tab').forEach(t => {
                    t.classList.remove('active');
                    t.style.color = 'var(--text-secondary)';
                    t.style.fontWeight = '400';
                });

                tab.classList.add('active');
                tab.style.color = 'var(--accent-from)';
                tab.style.fontWeight = '600';
            });
        });

        // Handle initial hash
        if (window.location.hash === '#editor') {
            document.querySelector('[data-tab="editor"]').click();
        }
    </script>
</body>
</html>
